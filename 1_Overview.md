# Overview

BITBOX, a crypto-to-crypto exchange, provides APIs for programmatic crypto trading.

Using BITBOX API (beta), you do not have to access the BITBOX website to check your account status, trading history, or to buy and sell crypto. You can also automate your trading orders based on set criteria, such as buying a set amount of coins when the price drops by more than 5%.

This document describes basic information about BITBOX API (beta) and provides detailed examples.

## Prerequisites

BITBOX API (beta) is RESTful.
All requests and responses are transmitted via HTTPS, meaning that you can call APIs from any platform that supports HTTPS.
For successful operation of API request calls, read this section and descriptions of each API carefully.

In order to use BITBOX API (beta), you must get an approval from BITBOX.

[Contact BITBOX](https://contact.bitbox.me/) with your BITBOX ID and a whitelist of IP calling addresses of your services or apps.
Once approved, you will receive your credentials such as API KEY and API SECRET.
All API requests have to pass an API KEY in the header, and the requests that have a valid API KEY are allowed.
API SECRET is a secret key to sign API requests. For details, see [Authentication and security policy](2_Authentication_and_Security_Policy.md#authentication-and-security-policy).

## Endpoint

The endpoint of BITBOX API (beta) is as follows:

``` postscript
https://openapi.bitbox.me/{version}/{api_name}?{query_string}
```

  - `https://openapi.bitbox.me/` is the base URL of the API.
  - `version` is the version of the API set.
  - `api_path` is the path of the API to call.
  - `query_string` is a set of query parameters for the API. Each parameter is a `key=value` pair followed by an ampersand (&).

## Request

All API requests on BITBOX API (beta) must meet the following requirements:

  - All requests must be sent via HTTPS.
  - GET, POST, PUT, or DELETE method can be used depending on the API.
  - **For POST, PUT, and DELETE methods, parameters must be passed via a query string, via a request body generated by `application/x-www-form-urlencoded`.** Both a query string and request body can be used simultaneously.
  - The list of permitted IPs must be registered to the [API KEY](2_Authentication_and_Security_Policy.md#api-key-and-api-secret) because the API server processes requests only from whitelisted IP addresses.
  - All requests must be signed. For more information, see \[Signature Policy\].
  - Signature is for one-time use only and any request is rejected if the same signature is used again.
  - The requests per second (RPS) handled by BITBOX API (beta) is as follows:
      - For orders or order cancellations, one API KEY handles a maximum of 30 RPS.
      - For requests other than orders or order cancellations, one API KEY handles a maximum of 50 RPS.
      - For orders or order cancellations, the recommended interval between requests is at least 10ms. Any interval shorter than the recommendation can result in failure.

## Response

Results for the BITBOX API (beta) requests are returned as response objects.
The HTTP status code is 200 OK when the API server has no problem and you can find detailed information about the results in the response object.

> **Note**
> 
> The HTTP status code does not represent the outcome of a request. A 200 OK status code does not mean that the request was successfully processed.

The response object includes the following fields:

| Field           | Description                                                                                                                                                                                                                                                                                                  |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `responseData`  | holds the actual result data in a JSON format. The structure of the object varies depending on the API, see the [description of each API](3_Reference.md#reference).                                                                                                                                         |
| `responseTime`  | shows the response time from the API server.                                                                                                                                                                                                                                                                 |
| `statusCode`    | provides the status of the request’s result. You must always check this field to see if the request was successfully processed. It is 1000 for successfully processed requests and any other values are considered as failures. For more information, see [statusCode definitions](#statuscode-definitions). |
| `statusMessage` | shows detailed information about the request’s result. This field is useful when you need to check the reason for failure when the `statusCode` is not 1000.                                                                                                                                                 |
| `timezone`      | shows the time standard of `responseTime`. It is always “UTC”. See the note below.                                                                                                                                                                                                                           |

> **Note**
> 
> All time related fields are represented in [UTC Unix Epoch](https://en.wikipedia.org/wiki/Unix_time) in milliseconds.

Below are the examples of response objects.

``` json
// An example of a normal response (1000)
{
    "timezone": "UTC",
    "responseTime": 1525066555636,
    "statusCode": 1000,
    "statusMessage": "SUCCESS",
    "responseData": {
      ......
    }
}

// An example of a failed response
{
    "timezone": "UTC",
    "responseTime": 1525264994801,
    "statusCode": 4001,
    "statusMessage": "The request has to be sent with X-API-Key, X-API-SIGN, X-API-TIMESTAMP."
}
```

## StatusCode definitions

The list of `statusCode` and `statusMessage` in response objects are as follows:

| **`statusCode`** | **`statusMessage`**                                     | **Description**                                                                       |
| :--------------: | ------------------------------------------------------- | ------------------------------------------------------------------------------------- |
|       1000       | Success                                                 | The request has been successfully processed.                                          |
|       1202       | Member not found                                        | The member does not exist.                                                            |
|       3113       | Currency pair system is in maintenance                  | The currency pair system is in maintenance.                                           |
|       3203       | Unit price cannot be lower than the minimum value       | The unit price is lower than the minimum value.                                       |
|       3204       | Unit price is out of scale                              | The unit price is lower than the mininum price decimal. See \[Trading Pair Policy\].  |
|       3211       | Amount is too low                                       | The amount is lower than the minimum value.                                           |
|       3212       | Amount is too high to order                             | The amount is too high to place an order.                                             |
|       3213       | AMOUNT has out of scale                                 | The amount is lower than the mininum amount decimal. See \[Trading Pair Policy\].     |
|       3221       | Volume is too low                                       | The volume is lower than the minimum value.                                           |
|       3222       | Volume is too high to order                             | The value of volume is too high to place an order.                                    |
|       3301       | Not enough balance for an order                         | The member does not have enough balance to make an order.                             |
|       3302       | Not enough remained amount for a request                | The member does not have enough remained amount to handle.                            |
|       3311       | Active order count exceed                               | The number of active orders has exceeded.                                             |
|       3321       | Original request not found                              | The original request is not found.                                                    |
|       3401       | Internal core system error                              | There is an error in the internal core system.                                        |
|       4000       | Bad request                                             | An incorrect request is made.                                                         |
|       4001       | X-API-Key, X-API-SIGN, or X-API-TIMESTAMP is missing    | One or more mandatory parameters are missing from the header.                         |
|       4002       | Invalid parameter value                                 | An invalid parameter value was used.                                                  |
|       4003       | Invalid signature                                       | An invalid signature is used.                                                         |
|       4005       | Duplicate signature usage detected                      | The signature in request is already used (Duplicated request).                        |
|       4006       | Invalid ‘orderSide’ parameter                           | The value of `orderSide` must be “SELL” or “BUY”.                                     |
|       4007       | Invalid ‘quantity’ parameter (should be greater than 0) | The value of `quantity` must not be 0 or less.                                        |
|       4008       | Invalid ‘price’ parameter (should be greater than 0)    | The value of `price` must not be 0 or less.                                           |
|       4009       | Invalid ‘coinPair’                                      | The [Coin pair](5_Terms.md#coin-pair) is unsupported.                                 |
|       4010       | Invalid ‘market’                                        | The [Market](#market) is unsupported.                                                 |
|       4011       | Invalid ‘currency’                                      | The [Currency](#currency) is unsupported.                                             |
|       4012       | Mandatory parameter not passed                          | The mandatory parameter is missing.                                                   |
|       4013       | Invalid timestamp                                       | The timestamp is not valid.                                                           |
|       4014       | Invalid transfer type                                   | The transfer type is not valid.                                                       |
|       4015       | Invalid page number                                     | The page number is not valid.                                                         |
|       4016       | Invalid page size                                       | The page size is not valid.                                                           |
|       4017       | Unsupported request method                              | The request method is not supported.                                                  |
|       4018       | Invalid X-API-NONCE                                     | `X-API-NONCE` must be a positive 5-digit number.                                      |
|       4101       | Account not found                                       | The account does not exist.                                                           |
|       4102       | Unsupported currency                                    | The requested cryptocurrency is unsupported.                                          |
|       5000       | Internal server side error                              | The API server receives the request, but an error has occurred in the business logic. |
|       5001       | Internal timeout error                                  | The API server receives the request, but timeout has occurred in the internal server. |
|       5002       | Socket timeout exception                                | The API server receives the request, but timeout has occurred on the socket.          |
|       6000       | Unauthorized request                                    | An unauthorized request is made.                                                      |
|       6001       | Unregistered API KEY                                    | The requested API KEY is unregistered.                                                |
|       6002       | Invalid API KEY                                         | The requested API KEY is invalid.                                                     |
|       6003       | Unauthorized IP                                         | The sender’s IP is not permitted.                                                     |
|       6004       | API RPS limit exceeded                                  | The RPS limit for API call has been exceeded.                                         |
|       6005       | Invalid request timestamp                               | The timestamp of the request is invalid.                                              |
